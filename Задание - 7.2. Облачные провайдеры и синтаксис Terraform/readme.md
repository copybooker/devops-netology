# Задание - 7.2. Облачные провайдеры и синтаксис Terraform. Вариант с Yandex.Cloud

##        1. Задача 1 (Вариант с Yandex.Cloud). Регистрация в ЯО и знакомство с основами (необязательно, но крайне желательно).
Подробная инструкция на русском языке содержится здесь.
Обратите внимание на период бесплатного использования после регистрации аккаунта.
Используйте раздел "Подготовьте облако к работе" для регистрации аккаунта. Далее раздел "Настройте провайдер" для подготовки базового терраформ конфига.
Воспользуйтесь инструкцией на сайте терраформа, что бы не указывать авторизационный токен в коде, а терраформ провайдер брал его из переменных окружений.

### Ответ:

    Ознакомился с инструкцией по настройке Terraform на 
    https://cloud.yandex.ru/docs/tutorials/infrastructure-management/terraform-quickstart
    Аккаунт и рабочий каталог ранее уже были созданы, настройка провайдера тоже, досоздал IAM-токен
    
##        2. Создание aws ec2 или yandex_compute_instance через терраформ.

В каталоге terraform вашего основного репозитория, который был создан в начале курсе, создайте файл main.tf и versions.tf.
Зарегистрируйте провайдер
для aws. В файл main.tf добавьте блок provider, а в versions.tf блок terraform с вложенным блоком required_providers. Укажите любой выбранный вами регион внутри блока provider.
либо для yandex.cloud. Подробную инструкцию можно найти здесь.
Внимание! В гит репозиторий нельзя пушить ваши личные ключи доступа к аккаунту. Поэтому в предыдущем задании мы указывали их в виде переменных окружения.
В файле main.tf воспользуйтесь блоком data "aws_ami для поиска ami образа последнего Ubuntu.
В файле main.tf создайте рессурс
либо ec2 instance. Постарайтесь указать как можно больше параметров для его определения. Минимальный набор параметров указан в первом блоке Example Usage, но желательно, указать большее количество параметров.
либо yandex_compute_image.
Также в случае использования aws:
Добавьте data-блоки aws_caller_identity и aws_region.
В файл outputs.tf поместить блоки output с данными об используемых в данный момент:
AWS account ID,
AWS user ID,
AWS регион, который используется в данный момент,
Приватный IP ec2 инстансы,
Идентификатор подсети в которой создан инстанс.
Если вы выполнили первый пункт, то добейтесь того, что бы команда terraform plan выполнялась без ошибок.
В качестве результата задания предоставьте:

Ответ на вопрос: при помощи какого инструмента (из разобранных на прошлом занятии) можно создать свой образ ami?
Ссылку на репозиторий с исходной конфигурацией терраформа.

### Ответ:

1. Для Яндекс Облака удобно создавать собственные обрназы с помощью Packer
2. Ссылка на файл конфигурации https://github.com/copybooker/devops-netology/blob/main/terraform/main.tf
3. Ссылка на ответ команды terraform plan https://github.com/copybooker/devops-netology/blob/main/terraform/terraform-plan.log
